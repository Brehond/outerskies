# Production Environment Configuration for Outer Skies
# Copy this file to .env.production and fill in your actual values

# Django Settings
DJANGO_SETTINGS_MODULE=astrology_ai.settings
DEBUG=False
SECRET_KEY=your-super-secret-key-here-change-this
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,localhost,127.0.0.1

# Database Configuration
DATABASE_URL=postgresql://username:password@host:5432/database_name
# Alternative format: postgresql://user:pass@localhost:5432/outerskies

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
# Alternative format: redis://:password@host:6379/0

# AI Integration
OPENROUTER_API_KEY=your-openrouter-api-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Stripe Payment Configuration
STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key_here
STRIPE_SECRET_KEY=sk_live_your_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Email Configuration
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# Security Settings
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True
X_FRAME_OPTIONS=DENY

# Session and Cookie Settings
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=True

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=/app/logs/django.log

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# Monitoring and Analytics
SENTRY_DSN=https://your-sentry-dsn-here
GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID

# File Storage (for production, consider using S3 or similar)
MEDIA_ROOT=/app/media
STATIC_ROOT=/app/staticfiles

# Cache Configuration
CACHE_BACKEND=django_redis.cache.RedisCache
CACHE_LOCATION=redis://localhost:6379/2

# API Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# Swiss Ephemeris Configuration
SWISSEPH_PATH=/app/ephemeris

# Plugin System
PLUGINS_ENABLED=True
PLUGIN_AUTO_LOAD=True

# Health Check Configuration
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_TIMEOUT=30

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=True
PERFORMANCE_LOG_SLOW_QUERIES=True
PERFORMANCE_SLOW_QUERY_THRESHOLD=1.0

# Backup Configuration
BACKUP_ENABLED=True
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/app/backups

# SSL/TLS Configuration (if using nginx)
SSL_CERTIFICATE_PATH=/etc/ssl/certs/yourdomain.crt
SSL_PRIVATE_KEY_PATH=/etc/ssl/private/yourdomain.key

# Docker Configuration (if using Docker)
DOCKER_IMAGE_TAG=latest
DOCKER_REGISTRY=your-registry.com

# Load Balancer Configuration
LOAD_BALANCER_HEALTH_CHECK_PATH=/health/
LOAD_BALANCER_HEALTH_CHECK_INTERVAL=30

# Database Connection Pooling
DB_CONN_MAX_AGE=600
DB_OPTIONS={"MAX_CONNS": 20}

# Redis Connection Pooling
REDIS_MAX_CONNECTIONS=20
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Celery Worker Configuration
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_TIME_LIMIT=3600
CELERY_TASK_SOFT_TIME_LIMIT=3000

# AI Model Configuration
DEFAULT_AI_MODEL=gpt-4
AI_MODEL_TEMPERATURE=0.7
AI_MODEL_MAX_TOKENS=1000

# Chart Generation Configuration
CHART_CACHE_ENABLED=True
CHART_CACHE_TIMEOUT=3600
INTERPRETATION_CACHE_ENABLED=True
INTERPRETATION_CACHE_TIMEOUT=7200

# User Session Configuration
SESSION_ENGINE=django.contrib.sessions.backends.cache
SESSION_CACHE_ALIAS=default
SESSION_COOKIE_AGE=1209600  # 14 days

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=True
PASSWORD_REQUIRE_LOWERCASE=True
PASSWORD_REQUIRE_NUMBERS=True
PASSWORD_REQUIRE_SPECIAL_CHARS=True

# API Configuration
API_VERSION=v1
API_RATE_LIMIT_ENABLED=True
API_DOCUMENTATION_ENABLED=True

# Theme Configuration
DEFAULT_THEME=cosmic
THEME_CACHE_ENABLED=True

# Subscription Configuration
SUBSCRIPTION_TRIAL_DAYS=7
SUBSCRIPTION_GRACE_PERIOD_DAYS=3

# Webhook Configuration
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=60

# Maintenance Mode
MAINTENANCE_MODE_ENABLED=False
MAINTENANCE_MODE_MESSAGE=System is under maintenance. Please try again later.

# Development/Testing Overrides (set to False in production)
DEVELOPMENT_MODE=False
TESTING_MODE=False
MOCK_EXTERNAL_SERVICES=False 